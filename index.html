<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cavadmikayil - İnformasiya Texnologiyaları</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <style>
        /* --- ƏSAS STİLLƏR --- */
        :root {
            --bg-primary: #f4f4f5;
            --bg-secondary: #ffffff;
            --bg-sidebar: #18181b;
            --bg-sidebar-hover: #27272a;
            --text-primary: #18181b;
            --text-secondary: #3f3f46;
            --text-sidebar: #d4d4d8;
            --border-color: #e5e7eb;
            --accent-color: #f59e0b;
            --accent-color-active: #fbbf24;
        }

        .dark {
            --bg-primary: #18181b;
            --bg-secondary: #27272a;
            --bg-sidebar: #18181b;
            --bg-sidebar-hover: #3f3f46;
            --text-primary: #f4f4f5;
            --text-secondary: #a1a1aa;
            --text-sidebar: #d4d4d8;
            --border-color: #3f3f46;
            --accent-color: #f59e0b;
            --accent-color-active: #fbbf24;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        /* Login Paneli */
        #login-container, #course-login-container {
            background: #18181b;
            background-image: radial-gradient(circle at top right, #f59e0b20, transparent 60%);
        }
        #login-box, #course-login-box {
            background-color: rgba(39, 39, 42, 0.8);
            backdrop-filter: blur(10px);
        }
        #login-btn, #course-login-btn {
            background: linear-gradient(45deg, #f59e0b, #ea580c);
        }
        #login-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Sidebar (Açılan Menyu) */
        #sidebar {
            transition: transform 0.3s ease-in-out;
            background-color: var(--bg-sidebar);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        #sidebar .sidebar-header {
            padding: 1.5rem;
            background: var(--bg-sidebar);
            color: white;
            flex-shrink: 0;
            border-bottom: 1px solid #3f3f46;
        }

        #sidebar .sidebar-header .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.75rem;
            background: -webkit-linear-gradient(#f59e0b, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        #sidebar .sidebar-header p {
            color: #ffffff;
            font-weight: 300;
        }

        #sidebar nav {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        #sidebar nav a {
            padding: 1rem 1.5rem;
            transition: all 0.2s ease-in-out;
            border-left: 4px solid transparent;
            color: var(--text-sidebar);
            font-weight: 500;
        }

        #sidebar nav a:hover {
            background-color: var(--bg-sidebar-hover);
            color: var(--accent-color-active);
            border-left-color: #4b5563;
        }
        
        #sidebar nav a.active {
            background: var(--bg-sidebar-hover);
            color: var(--accent-color-active);
            border-left-color: var(--accent-color);
            font-weight: 600;
        }

        #sidebar nav a i {
            transition: transform 0.2s ease;
            width: 1.5rem;
        }
        
        #sidebar nav a.active i {
             color: var(--accent-color);
        }
        
        .social-footer {
            flex-shrink: 0;
            border-top: 1px solid #3f3f46;
            background-color: var(--bg-sidebar);
        }
        
        .social-footer a i {
             transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        
        .social-footer a:hover i {
            transform: scale(1.2);
        }

        header {
            background-color: var(--bg-secondary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            border-bottom: 1px solid var(--border-color);
        }

        #page-title {
            color: var(--text-primary);
            font-weight: 600;
        }

        .clickable-list-item {
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid var(--border-color);
            background-color: var(--bg-secondary);
        }
        .clickable-list-item:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            border-color: var(--accent-color);
        }
        .clickable-list-item .fa-chevron-right {
            transition: transform 0.2s ease;
        }
        .clickable-list-item:hover .fa-chevron-right {
            transform: translateX(5px);
            color: var(--accent-color);
        }

        #back-to-list-btn, #check-exam-btn, #reset-progress-btn {
            transition: all 0.2s ease-in-out;
            background: linear-gradient(45deg, #f59e0b, #ea580c);
            color: white;
            box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3);
        }
        #back-to-list-btn:hover, #check-exam-btn:hover, #reset-progress-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(245, 158, 11, 0.4);
        }

        .article-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            border-left: 5px solid var(--accent-color);
        }
        .article-card h3 {
            color: var(--text-primary);
        }
        .article-card .article-content {
            color: var(--text-secondary);
            line-height: 1.8;
        }
        .article-card .article-content b {
            color: #d97706;
        }
        .article-card .article-content code, pre {
            background-color: #27272a;
            padding: 1rem;
            border-radius: 8px;
            color: #a1a1aa;
            border: 1px solid #3f3f46;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', Courier, monospace;
            position: relative;
        }
        .copy-code-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #52525b;
            color: #e4e4e7;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.8rem;
        }
        .copy-code-btn:hover {
            background-color: #71717a;
        }
        .article-card .article-content h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #d97706;
            border-bottom: 2px solid #fcd34d;
            padding-bottom: 0.5rem;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        /* İmtahan stilləri */
        .question-correct { background-color: #dcfce7; border-left-color: #22c55e; }
        .dark .question-correct { background-color: #143b29; }
        .question-incorrect { background-color: #fee2e2; border-left-color: #ef4444; }
        .dark .question-incorrect { background-color: #451a24; }
        .question-unanswered { background-color: #ffedd5; border-left-color: #f97316; }
        .dark .question-unanswered { background-color: #4a2c1b; }
        .correct-answer-text { color: #16a34a; font-weight: bold; }
        
        /* Course Materials Accordion */
        .course-header { cursor: pointer; transition: background-color 0.2s ease-in-out; }
        .course-header:hover { background-color: #fef3c7; }
        .dark .course-header:hover { background-color: #3f3f46; }
        .course-header i { transition: transform 0.3s ease-in-out; }
        .course-header.active i { transform: rotate(90deg); }
        .chapter-list { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .chapter-link.visited { background-color: #27272a; border-color: #4ade80; color: #a3e635; }
        .chapter-link.visited:hover { background-color: #3f3f46; }

        /* Axtarış */
        #search-input { background-color: var(--bg-primary); border: 1px solid var(--border-color); }
        #search-input:focus { border-color: var(--accent-color); outline: none; }

        /* Tema Düyməsi */
        #theme-toggle { background-color: var(--bg-primary); border: 1px solid var(--border-color); color: var(--text-secondary); }

        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #e4e4e7; }
        .dark ::-webkit-scrollbar-track { background: #3f3f46; }
        ::-webkit-scrollbar-thumb { background: #fcd34d; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #f59e0b; }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Tələbə Login Paneli -->
    <div id="login-container" class="fixed inset-0 z-50 flex items-center justify-center p-4">
        <div id="login-box" class="w-full max-w-sm p-8 space-y-6 rounded-2xl shadow-2xl border border-gray-700">
            <div class="text-center space-y-2">
                 <h2 class="text-3xl font-bold text-amber-400" style="font-family: 'Orbitron', sans-serif;">Cavad Mikayil</h2>
                 <p class="text-xl font-medium text-white">Education Portal</p>
            </div>
            <div class="space-y-4">
                <div>
                    <input type="text" id="username-input" placeholder="İstifadəçi adı" class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                </div>
                <div>
                    <input type="password" id="password-input" placeholder="Şifrə" class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                </div>
                <div class="flex items-center">
                    <input id="remember-me-checkbox" type="checkbox" class="h-4 w-4 rounded border-gray-500 bg-gray-600 text-amber-500 focus:ring-amber-600">
                    <label for="remember-me-checkbox" class="ml-2 block text-sm text-gray-300">Məni xatırla</label>
                </div>
                <p id="error-message" class="text-red-500 text-sm hidden text-center">İstifadəçi adı və ya şifrə yanlışdır.</p>
                <p id="lockout-message" class="text-amber-400 text-sm hidden text-center"></p>
                <button id="login-btn" class="w-full py-3 text-white font-bold rounded-lg hover:opacity-90 transition-opacity">Daxil Ol</button>
            </div>
        </div>
    </div>

    <!-- Course Materials Login Paneli (Gizli) -->
    <div id="course-login-container" class="hidden fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-75">
        <div id="course-login-box" class="w-full max-w-sm p-8 space-y-6 rounded-2xl shadow-2xl border border-gray-700 relative">
            <button id="close-course-login-btn" class="absolute top-4 right-4 text-gray-400 hover:text-white text-2xl font-bold">&times;</button>
            <div class="text-center">
                <h2 class="text-3xl font-bold text-white">Dərs Vəsaitləri</h2>
                <p class="text-gray-400 mt-2">Giriş üçün məlumatları daxil edin</p>
            </div>
            <div class="space-y-4">
                <div>
                    <input type="text" id="course-username-input" placeholder="İstifadəçi adı" class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                </div>
                 <div>
                    <input type="password" id="course-password-input" placeholder="Şifrə" class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500">
                </div>
                 <div class="flex items-center">
                    <input id="remember-course-checkbox" type="checkbox" class="h-4 w-4 rounded border-gray-500 bg-gray-600 text-amber-500 focus:ring-amber-600">
                    <label for="remember-course-checkbox" class="ml-2 block text-sm text-gray-300">Məni xatırla</label>
                </div>
                <p id="course-error-message" class="text-red-500 text-sm hidden">İstifadəçi adı və ya şifrə yanlışdır.</p>
                <button id="course-login-btn" class="w-full py-3 text-white font-bold rounded-lg hover:opacity-90 transition-opacity">Daxil Ol</button>
                <button id="back-from-course-login-btn" class="w-full mt-2 py-2 text-gray-300 font-medium rounded-lg hover:bg-gray-700 transition-colors">Geri Qayıt</button>
            </div>
        </div>
    </div>

    <!-- Əsas Tətbiq Konteyneri (Gizli) -->
    <div id="app-container" class="hidden">
        <!-- Sidebar (Açılan Menyu) -->
        <div id="sidebar" class="fixed top-0 left-0 w-64 z-30 transform -translate-x-full md:translate-x-0">
            <a href="#" id="logo-link" class="sidebar-header text-center block">
                <h2 class="logo-text">cavadmikayil</h2>
                <p class="text-sm font-light mt-1">Informasiya Texnologiyalari</p>
            </a>
            <nav class="mt-4">
                <a href="#" id="home-link" class="flex items-center">
                    <i class="fas fa-home text-center"></i>
                    <span class="mx-3">Ana Səhifə</span>
                </a>
                <a href="#" id="course-materials-link" class="flex items-center">
                    <i class="fas fa-book-open text-center"></i>
                    <span class="mx-3">Course Materials</span>
                </a>
                <a href="#" id="network-link" class="flex items-center">
                    <i class="fas fa-network-wired text-center"></i>
                    <span class="mx-3">Network Dərsləri</span>
                </a>
                <a href="#" id="system-link" class="flex items-center">
                    <i class="fas fa-cogs text-center"></i>
                    <span class="mx-3">System Engineering</span>
                </a>
                <a href="#" id="cyber-link" class="flex items-center">
                    <i class="fas fa-shield-halved text-center"></i>
                    <span class="mx-3">Cybersecurity</span>
                </a>
                <a href="#" id="ai-link" class="flex items-center">
                    <i class="fas fa-robot text-center"></i>
                    <span class="mx-3">Süni İntellekt (AI)</span>
                </a>
                <a href="#" id="development-link" class="flex items-center">
                    <i class="fas fa-code text-center"></i>
                    <span class="mx-3">Development</span>
                </a>
                <a href="#" id="cloud-link" class="flex items-center">
                    <i class="fas fa-cloud text-center"></i>
                    <span class="mx-3">Cloud</span>
                </a>
                <a href="#" id="security-link" class="flex items-center">
                    <i class="fas fa-user-shield text-center"></i>
                    <span class="mx-3">IT Security</span>
                </a>
                <a href="#" id="itgovernance-link" class="flex items-center">
                    <i class="fas fa-balance-scale text-center"></i>
                    <span class="mx-3">IT Governance</span>
                </a>
                <a href="#" id="helpdesk-link" class="flex items-center">
                    <i class="fas fa-headset text-center"></i>
                    <span class="mx-3">Helpdesk</span>
                </a>
                <a href="#" id="exam-link" class="flex items-center">
                    <i class="fas fa-file-alt text-center"></i>
                    <span class="mx-3">Exam</span>
                </a>
                <a href="#" id="labs-link" class="flex items-center">
                    <i class="fas fa-flask text-center"></i>
                    <span class="mx-3">Labs</span>
                </a>
                <a href="https://www.youtube.com/channel/UCDh-QcTsPITzBQQn7I2vpQg/videos" target="_blank" rel="noopener noreferrer" id="youtube-link" class="flex items-center">
                    <i class="fab fa-youtube text-center text-red-600"></i>
                    <span class="mx-3">Youtube</span>
                </a>
                <a href="#" id="logout-link" class="flex items-center mt-4">
                    <i class="fas fa-sign-out-alt text-center"></i>
                    <span class="mx-3">Log Out</span>
                </a>
            </nav>
            <div class="social-footer p-4">
                 <div class="flex justify-around items-center">
                    <a href="https://cavadmikayil.com" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-orange-500" title="Blog Saytım">
                        <i class="fas fa-blog text-2xl"></i>
                    </a>
                    <a href="https://az.linkedin.com/in/cavad-mikayil-0a8153212" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-blue-700" title="Linkedin">
                        <i class="fab fa-linkedin text-2xl"></i>
                    </a>
                    <a href="https://instagram.com/cavadmikayil.com_" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-pink-600" title="Instagram">
                        <i class="fab fa-instagram text-2xl"></i>
                    </a>
                    <a href="https://t.me/cavadmikayil" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-blue-500" title="Telegram">
                        <i class="fab fa-telegram-plane text-2xl"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Əsas Məzmun -->
        <div id="main-content" class="md:ml-64">
            <header class="bg-white p-4 flex justify-between items-center sticky top-0 z-10">
                <button id="menu-btn" class="text-gray-600 focus:outline-none md:hidden">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
                <div class="text-xl" id="page-title">Ana Səhifə</div>
                <div class="flex items-center gap-4">
                    <div class="relative hidden md:block">
                        <input type="text" id="search-input" placeholder="Axtar..." class="w-48 lg:w-64 pl-10 pr-4 py-2 rounded-lg text-sm focus:outline-none transition-all duration-300">
                        <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    </div>
                    <button id="theme-toggle" class="h-10 w-10 flex items-center justify-center rounded-full transition-colors duration-300">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </header>
            <main id="content-area" class="p-4 md:p-6" style="height: calc(100vh - 72px); overflow-y: auto;"></main>
        </div>
    </div>
    <div id="overlay" class="fixed inset-0 bg-black opacity-50 z-20 hidden md:hidden"></div>


    <script>
        // --- BÜTÜN MƏQALƏLƏR VƏ TESTLƏR ÜÇÜN MƏLUMAT BAZASI ---
        const questionPool = [
            { question: "OSI modelinin 3-cü səviyyəsi hansıdır?", options: ["Physical", "Data Link", "Network", "Transport"], answer: 2 },
            { question: "Hansı protokol faylların ötürülməsi üçün istifadə olunur?", options: ["HTTP", "FTP", "SMTP", "DNS"], answer: 1 },
            { question: "Bir kompüterin şəbəkədəki unikal fiziki ünvanı nə adlanır?", options: ["IP Address", "Subnet Mask", "MAC Address", "Gateway"], answer: 2 },
            { question: "Hansı cihaz fərqli şəbəkələri bir-birinə bağlayır?", options: ["Hub", "Switch", "Router", "Repeater"], answer: 2 },
            { question: "TCP/IP modelində hansı səviyyə yoxdur?", options: ["Application", "Transport", "Internet", "Presentation"], answer: 3 },
            { question: "192.168.1.1 hansı sinif IP ünvanıdır?", options: ["Class A", "Class B", "Class C", "Class D"], answer: 2 },
            { question: "UDP hansı səviyyənin protokoludur?", options: ["Network", "Transport", "Application", "Data Link"], answer: 1 },
            { question: "Subnet mask 255.255.255.0 üçün CIDR notation hansıdır?", options: ["/8", "/16", "/24", "/32"], answer: 2 },
            { question: "Hansı təhlükəsizlik mexanizmi şəbəkə trafiyini yoxlayır və filterləyir?", options: ["Antivirus", "Firewall", "VPN", "Proxy"], answer: 1 },
            { question: "DNS hansı portda işləyir?", options: ["80", "443", "25", "53"], answer: 3 },
            { question: "VLAN nəyin qısaltmasıdır?", options: ["Virtual Local Area Network", "Very Large Area Network", "Virtual Leased Area Network", "Volatile Local Area Network"], answer: 0 },
            { question: "DHCP serverin əsas funksiyası nədir?", options: ["Adları IP-yə çevirmək", "Cihazlara avtomatik IP ünvan vermək", "Faylları saxlamaq", "E-poçt göndərmək"], answer: 1 },
            { question: "PING əmri nə üçün istifadə olunur?", options: ["Paketlərin yolunu izləmək", "Portların açıq olub-olmadığını yoxlamaq", "İki cihaz arasında əlaqəni yoxlamaq", "DNS adını tapmaq"], answer: 2 },
            { question: "HTTPS hansı portu istifadə edir?", options: ["80", "21", "110", "443"], answer: 3 },
            { question: "Private IP ünvan aralıqlarından biri hansıdır?", options: ["1.1.1.1", "8.8.8.8", "172.16.0.0 - 172.31.255.255", "200.200.200.1"], answer: 2 },
            { question: "Bulud texnologiyalarında 'SaaS' nə deməkdir?", options: ["Security as a Service", "System as a Service", "Software as a Service", "Storage as a Service"], answer: 2 },
            { question: "Python-da list yaratmaq üçün hansı simvol istifadə olunur?", options: ["()", "{}", "[]", "<>"], answer: 2 },
            { question: "SQL-də cədvəldən bütün sətirləri seçmək üçün hansı əmr istifadə olunur?", options: ["SELECT * FROM table", "GET * FROM table", "SELECT ALL FROM table", "FETCH * FROM table"], answer: 0 },
            { question: "Hansı 'phishing' hücumunun tərifidir?", options: ["Sistemə icazəsiz giriş", "İstifadəçiləri aldadaraq həssas məlumatları əldə etmək", "Xidmətdən imtina hücumu", "Zərərli proqramın yayılması"], answer: 1 },
            { question: "ITIL nə üçün bir çərçivədir?", options: ["Layihə İdarəetməsi", "Proqram Təminatı İnkişafı", "İT Xidmətlərinin İdarə Edilməsi", "Kibertəhlükəsizlik"], answer: 2 }
        ];

        function generateExams(pool, numExams, questionsPerExam) {
            const exams = [];
            for (let i = 0; i < numExams; i++) {
                const shuffled = [...pool].sort(() => 0.5 - Math.random());
                exams.push({
                    title: `Sınaq Testi ${i + 1}`,
                    questions: shuffled.slice(0, questionsPerExam)
                });
            }
            return exams;
        }

        const allContent = {
            exam: {
                title: "Sınaq İmtahanları",
                tests: generateExams(questionPool, 10, 20)
            },
            labs: {
                title: "CCNA Laboratoriya İşləri",
                articles: [
                    { id: 'lab1', title: "Lab 1: Basic Device Configuration", content: "..." },
                    { id: 'lab2', title: "Lab 2: Static Routing", content: "..." },
                    { id: 'lab3', title: "Lab 3: Inter-VLAN Routing", content: "..." },
                    { id: 'lab4', title: "Lab 4: DHCP Server", content: "..." },
                    { id: 'lab5', title: "Lab 5: Standard ACL", content: "..." },
                    { id: 'lab6', title: "Lab 6: NAT Overload (PAT)", content: "..." },
                    { id: 'lab7', title: "Lab 7: Port Security", content: "..." },
                    { id: 'lab8', title: "Lab 8: OSPF (Single-Area)", content: "..." },
                    { id: 'lab9', title: "Lab 9: EtherChannel (LACP)", content: "..." },
                    { id: 'lab10', title: "Lab 10: SSH Konfiqurasiyası", content: "..." }
                ]
            },
            network: { 
                title: "Network Dərsləri", 
                articles: Array.from({length: 10}, (_, i) => ({id: `net${i+1}`, title: `Network Mövzu ${i+1}`, content: `Bu, Network haqqında ${i+1}-ci məqalədir.`}))
            },
            system: { 
                title: "System Engineering", 
                articles: Array.from({length: 10}, (_, i) => ({id: `sys${i+1}`, title: `System Engineering Mövzu ${i+1}`, content: `Bu, System Engineering haqqında ${i+1}-ci məqalədir.`}))
            },
            cyber: { 
                title: "Cybersecurity", 
                articles: Array.from({length: 10}, (_, i) => ({id: `cyb${i+1}`, title: `Cybersecurity Mövzu ${i+1}`, content: `Bu, Cybersecurity haqqında ${i+1}-ci məqalədir.`})) 
            },
            ai: { title: "Süni İntellekt (AI)", articles: Array.from({length: 10}, (_, i) => ({id: `ai${i+1}`, title: `AI Mövzu ${i+1}`, content: `Bu, Süni İntellekt haqqında ${i+1}-ci məqalədir.`})) },
            development: { title: "Development", articles: Array.from({length: 10}, (_, i) => ({id: `dev${i+1}`, title: `Development Mövzu ${i+1}`, content: `Bu, Development haqqında ${i+1}-ci məqalədir.`})) },
            cloud: { title: "Cloud Computing", articles: Array.from({length: 10}, (_, i) => ({id: `cld${i+1}`, title: `Cloud Mövzu ${i+1}`, content: `Bu, Cloud Computing haqqında ${i+1}-ci məqalədir.`})) },
            security: { title: "IT Security", articles: Array.from({length: 10}, (_, i) => ({id: `sec${i+1}`, title: `IT Security Mövzu ${i+1}`, content: `Bu, IT Security haqqında ${i+1}-ci məqalədir.`})) },
            itgovernance: { title: "IT Governance", articles: Array.from({length: 10}, (_, i) => ({id: `itg${i+1}`, title: `IT Governance Mövzu ${i+1}`, content: `Bu, IT Governance haqqında ${i+1}-ci məqalədir.`})) },
            helpdesk: { title: "Helpdesk / Service Desk", articles: Array.from({length: 10}, (_, i) => ({id: `hd${i+1}`, title: `Helpdesk Mövzu ${i+1}`, content: `Bu, Helpdesk haqqında ${i+1}-ci məqalədir.`})) }
        };

        // --- ELEMENTLƏRİN SEÇİLMƏSİ ---
        const loginContainer = document.getElementById('login-container');
        const appContainer = document.getElementById('app-container');
        const usernameInput = document.getElementById('username-input');
        const passwordInput = document.getElementById('password-input');
        const loginBtn = document.getElementById('login-btn');
        const errorMessage = document.getElementById('error-message');
        const lockoutMessage = document.getElementById('lockout-message');
        const rememberMeCheckbox = document.getElementById('remember-me-checkbox');

        const courseLoginContainer = document.getElementById('course-login-container');
        const closeCourseLoginBtn = document.getElementById('close-course-login-btn');
        const courseUsernameInput = document.getElementById('course-username-input');
        const coursePasswordInput = document.getElementById('course-password-input');
        const courseLoginBtn = document.getElementById('course-login-btn');
        const courseErrorMessage = document.getElementById('course-error-message');
        const backFromCourseLoginBtn = document.getElementById('back-from-course-login-btn');
        const rememberCourseCheckbox = document.getElementById('remember-course-checkbox');
        
        const menuBtn = document.getElementById('menu-btn');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const contentArea = document.getElementById('content-area');
        const pageTitle = document.getElementById('page-title');
        const allLinks = Array.from(document.querySelectorAll('nav a'));
        const searchInput = document.getElementById('search-input');
        const themeToggle = document.getElementById('theme-toggle');

        const CORRECT_USERNAME = "cavadmikayil";
        const CORRECT_PASSWORD = "1923";
        const COURSE_USERNAME = "cavadmikayil";
        const COURSE_PASSWORD = "1918";

        let loginAttempts = 0;
        let lockoutUntil = null;
        let lockoutTimerInterval = null;

        // --- FUNKSİYALAR ---

        function updateLockoutTimer() {
            if (lockoutUntil && new Date() < lockoutUntil) {
                const remaining = Math.ceil((lockoutUntil - new Date()) / 1000);
                const minutes = Math.floor(remaining / 60);
                const seconds = remaining % 60;
                lockoutMessage.textContent = `Çox sayda səhv cəhd. Zəhmət olmasa ${minutes}:${seconds < 10 ? '0' : ''}${seconds} sonra yenidən yoxlayın.`;
                lockoutMessage.classList.remove('hidden');
                loginBtn.disabled = true;
            } else {
                clearInterval(lockoutTimerInterval);
                lockoutTimerInterval = null;
                lockoutUntil = null;
                loginAttempts = 0;
                lockoutMessage.classList.add('hidden');
                loginBtn.disabled = false;
            }
        }

        function handleLogin() {
            if (lockoutUntil && new Date() < lockoutUntil) {
                return; // Still locked out
            }

            if (usernameInput.value === CORRECT_USERNAME && passwordInput.value === CORRECT_PASSWORD) {
                if (rememberMeCheckbox.checked) {
                    localStorage.setItem('rememberedUser', 'true');
                } else {
                    localStorage.removeItem('rememberedUser');
                }
                loginContainer.classList.add('hidden');
                appContainer.classList.remove('hidden');
                errorMessage.classList.add('hidden');
                loginAttempts = 0; // Reset on success
                showHomePage();
            } else {
                loginAttempts++;
                errorMessage.classList.remove('hidden');
                usernameInput.value = '';
                passwordInput.value = '';
                if (loginAttempts >= 3) {
                    lockoutUntil = new Date(Date.now() + 5 * 60 * 1000); // 5 minutes
                    errorMessage.classList.add('hidden');
                    updateLockoutTimer();
                    lockoutTimerInterval = setInterval(updateLockoutTimer, 1000);
                }
            }
        }

        function handleLogout() {
            // Log Out düyməsi artıq "Məni xatırla" seçimlərini silir.
            localStorage.removeItem('rememberedUser');
            localStorage.removeItem('rememberedCourseUser');
            appContainer.classList.add('hidden');
            loginContainer.classList.remove('hidden');
            usernameInput.value = '';
            passwordInput.value = '';
        }

        function showCourseLoginPage() {
            courseLoginContainer.classList.remove('hidden');
        }

        function hideCourseLoginPage() {
            courseLoginContainer.classList.add('hidden');
            courseUsernameInput.value = '';
            coursePasswordInput.value = '';
            courseErrorMessage.classList.add('hidden');
        }

        function handleCourseLogin() {
            if (courseUsernameInput.value === COURSE_USERNAME && coursePasswordInput.value === COURSE_PASSWORD) {
                if(rememberCourseCheckbox.checked) {
                    localStorage.setItem('rememberedCourseUser', 'true');
                } else {
                    localStorage.removeItem('rememberedCourseUser');
                }
                hideCourseLoginPage();
                showCourseLinktreePage();
            } else {
                courseErrorMessage.classList.remove('hidden');
            }
        }
        
        function getCourseProgress() {
            const progress = localStorage.getItem('courseProgress');
            return progress ? JSON.parse(progress) : {};
        }

        function saveCourseProgress(chapterId) {
            const progress = getCourseProgress();
            progress[chapterId] = true;
            localStorage.setItem('courseProgress', JSON.stringify(progress));
        }

        function showCourseLinktreePage() {
            pageTitle.textContent = "Dərs Vəsaitləri";
            let linksHTML = `<div class="max-w-4xl mx-auto space-y-4">
                                <div class="text-right mb-4">
                                    <button id="reset-progress-btn" class="text-sm font-semibold py-2 px-4 rounded-lg">
                                        <i class="fas fa-trash-alt mr-2"></i>Tərəqqini Sıfırla
                                    </button>
                                </div>
                            `;

            const sections = {
                "IT Helpdesk Dərsləri": {key: 'helpdesk', count: 40},
                "Şəbəkə İnzibatçılığı Dərsləri": {key: 'network-admin', count: 40},
                "Sistem Administratoru Dərsləri": {key: 'sysadmin', count: 40}
            };
            
            const progress = getCourseProgress();

            for (const sectionTitle in sections) {
                const sectionData = sections[sectionTitle];
                linksHTML += `
                    <div class="bg-white dark:bg-zinc-800 rounded-lg shadow-md">
                        <h3 class="course-header flex justify-between items-center p-4 font-bold text-lg text-amber-600">
                            <span>${sectionTitle}</span>
                            <i class="fas fa-chevron-right"></i>
                        </h3>
                        <div class="chapter-list border-t border-gray-200 dark:border-zinc-700">
                            <div class="p-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                `;
                for (let i = 1; i <= sectionData.count; i++) {
                    const chapterId = `${sectionData.key}-${i}`;
                    const isVisited = progress[chapterId];
                    let link = '#';
                    let isClickable = false;
                    if (sectionTitle === "IT Helpdesk Dərsləri" && i === 1) {
                        link = 'https://cavadmikayil.github.io/project2/';
                        isClickable = true;
                    }
                    linksHTML += `
                        <a href="${link}" data-chapter-id="${chapterId}" ${isClickable ? 'target="_blank" rel="noopener noreferrer"' : ''} class="chapter-link flex items-center justify-center p-3 font-semibold text-center text-sm rounded-lg linktree-link ${!isClickable ? 'opacity-50 cursor-not-allowed' : ''} ${isVisited ? 'visited' : ''}">
                           ${isVisited ? '<i class="fas fa-check-circle mr-2"></i>' : ''} <span>Chapter ${i}</span>
                        </a>
                    `;
                }
                linksHTML += `</div></div></div>`;
            }

            linksHTML += `</div>`;
            contentArea.innerHTML = linksHTML;
            contentArea.scrollTop = 0;
            setActiveLink(document.getElementById('course-materials-link'));
            if(window.innerWidth < 768) toggleMenu();
        }

        function toggleMenu() {
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }

        function setActiveLink(activeLink) {
            allLinks.forEach(link => {
                if(link.id !== 'youtube-link') link.classList.remove('active');
            });
            if (activeLink && activeLink.id !== 'youtube-link') {
                activeLink.classList.add('active');
            }
        }

        function showHomePage() {
            pageTitle.textContent = "Ana Səhifə";
            contentArea.innerHTML = `<iframe src="https://cavadmikayil.com" class="w-full h-full border-0 rounded-lg shadow-inner bg-white" title="cavadmikayil.com" onerror="this.outerHTML='<div class=\\'bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative\\'><strong>Xəta:</strong> cavadmikayil.com saytını yükləmək mümkün olmadı.</div>'"></iframe>`;
            setActiveLink(document.getElementById('home-link'));
            if(window.innerWidth < 768 && !sidebar.classList.contains('-translate-x-full')) {
                toggleMenu();
            }
        }

        function showArticleListPage(categoryKey) {
            const category = allContent[categoryKey];
            pageTitle.textContent = category.title;
            let listHTML = '<div class="space-y-4">';
            category.articles.forEach(article => {
                listHTML += `<div class="bg-white dark:bg-zinc-800 p-5 rounded-lg clickable-list-item flex justify-between items-center" data-category="${categoryKey}" data-article-id="${article.id}"><span class="font-semibold text-gray-800 dark:text-gray-200">${article.title}</span><i class="fas fa-chevron-right text-gray-400"></i></div>`;
            });
            listHTML += '</div>';
            contentArea.innerHTML = listHTML;
            contentArea.scrollTop = 0;
            setActiveLink(document.getElementById(`${categoryKey}-link`));
            if(window.innerWidth < 768) toggleMenu();
        }

        function showSingleArticlePage(categoryKey, articleId) {
            const category = allContent[categoryKey];
            const article = category.articles.find(a => a.id === articleId);
            pageTitle.textContent = article.title;
            const articleHTML = `<div class="space-y-6"><button class="text-white font-bold py-2 px-4 rounded-lg inline-flex items-center" id="back-to-list-btn" data-category="${categoryKey}"><i class="fas fa-arrow-left mr-2"></i>Geri</button><div class="p-6 md:p-8 rounded-lg article-card"><h3 class="text-2xl md:text-3xl font-bold mb-4">${article.title}</h3><div class="article-content text-base md:text-lg">${article.content}</div></div></div>`;
            contentArea.innerHTML = articleHTML;
            contentArea.scrollTop = 0;
        }

        function showExamListPage() {
            const examData = allContent.exam;
            pageTitle.textContent = examData.title;
            let listHTML = '<div class="space-y-4">';
            const savedResults = JSON.parse(localStorage.getItem('examResults')) || {};
            examData.tests.forEach((test, index) => {
                const result = savedResults[index];
                const scoreHTML = result ? `<span class="font-bold text-amber-600">${result.score}/${result.total}</span>` : '';
                listHTML += `<div class="bg-white dark:bg-zinc-800 p-5 rounded-lg clickable-list-item flex justify-between items-center" data-test-id="${index}"><span class="font-semibold text-gray-800 dark:text-gray-200">${test.title}</span>${scoreHTML}</div>`;
            });
            listHTML += '</div>';
            contentArea.innerHTML = listHTML;
            contentArea.scrollTop = 0;
            setActiveLink(document.getElementById('exam-link'));
            if(window.innerWidth < 768) toggleMenu();
        }

        function showSingleExamPage(testIndex) {
            const test = allContent.exam.tests[testIndex];
            pageTitle.textContent = test.title;
            let examHTML = `<div class="space-y-6">
                                <button class="text-white font-bold py-2 px-4 rounded-lg inline-flex items-center" id="back-to-exam-list-btn">
                                    <i class="fas fa-arrow-left mr-2"></i>İmtahan Siyahısına Geri
                                </button>
                                <div id="quiz-container" class="space-y-6">`;
            test.questions.forEach((q, index) => {
                examHTML += `
                    <div id="question-${index}" class="bg-white dark:bg-zinc-800 p-5 rounded-lg shadow-md border-l-4 border-gray-200 dark:border-zinc-700 transition-colors duration-300">
                        <p class="font-semibold text-lg mb-4">${index + 1}. ${q.question}</p>
                        <div class="space-y-2">`;
                q.options.forEach((option, optionIndex) => {
                    examHTML += `
                        <label class="flex items-center p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-zinc-700 cursor-pointer">
                            <input type="radio" name="question${index}" value="${optionIndex}" class="mr-3 h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 dark:border-zinc-600 dark:bg-zinc-700">
                            <span>${option}</span>
                        </label>`;
                });
                examHTML += `</div><p id="feedback-${index}" class="mt-3 text-sm font-medium"></p></div>`;
            });
            examHTML += `<div class="flex justify-between items-center mt-6">
                            <button id="check-exam-btn" data-test-id="${testIndex}" class="font-bold py-2 px-6 rounded-lg">Yoxla</button>
                            <p id="exam-result" class="font-bold text-xl"></p>
                         </div></div></div>`;
            contentArea.innerHTML = examHTML;
            contentArea.scrollTop = 0;
        }

        function checkExamAnswers(testIndex) {
            const test = allContent.exam.tests[testIndex];
            let score = 0;
            test.questions.forEach((q, index) => {
                const questionContainer = document.getElementById(`question-${index}`);
                const feedbackEl = document.getElementById(`feedback-${index}`);
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                
                questionContainer.classList.remove('question-correct', 'question-incorrect', 'question-unanswered');

                if (selectedOption) {
                    if (parseInt(selectedOption.value) === q.answer) {
                        score++;
                        questionContainer.classList.add('question-correct');
                        feedbackEl.innerHTML = '';
                    } else {
                        questionContainer.classList.add('question-incorrect');
                        feedbackEl.innerHTML = `Doğru cavab: <span class="correct-answer-text">${q.options[q.answer]}</span>`;
                    }
                } else {
                    questionContainer.classList.add('question-unanswered');
                    feedbackEl.innerHTML = `Cavab seçilməyib. Doğru cavab: <span class="correct-answer-text">${q.options[q.answer]}</span>`;
                }
            });
            const resultEl = document.getElementById('exam-result');
            resultEl.textContent = `Nəticə: ${test.questions.length} sualdan ${score} doğru.`;
            
            // Nəticəni yadda saxla
            const savedResults = JSON.parse(localStorage.getItem('examResults')) || {};
            savedResults[testIndex] = { score: score, total: test.questions.length };
            localStorage.setItem('examResults', JSON.stringify(savedResults));
        }

        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase().trim();
            if (searchTerm.length < 3) {
                if(pageTitle.textContent.includes('Axtarış Nəticələri')) showHomePage();
                return;
            }
            const results = [];
            for (const categoryKey in allContent) {
                if (allContent[categoryKey].articles) {
                    allContent[categoryKey].articles.forEach(article => {
                        if (article.title.toLowerCase().includes(searchTerm) || article.content.toLowerCase().includes(searchTerm)) {
                            results.push({ ...article, categoryKey: categoryKey, categoryTitle: allContent[categoryKey].title });
                        }
                    });
                }
            }
            showSearchResultsPage(results, searchTerm);
        }

        function showSearchResultsPage(results, searchTerm) {
            pageTitle.textContent = `'${searchTerm}' üçün Axtarış Nəticələri`;
            setActiveLink(null);
            let resultsHTML = `<div class="space-y-4">`;
            if (results.length > 0) {
                results.forEach(result => {
                    resultsHTML += `
                        <div class="bg-white dark:bg-zinc-800 p-5 rounded-lg clickable-list-item" data-category="${result.categoryKey}" data-article-id="${result.id}">
                            <p class="text-sm text-amber-600 font-semibold">${result.categoryTitle}</p>
                            <h4 class="font-bold text-lg">${result.title}</h4>
                        </div>
                    `;
                });
            } else {
                resultsHTML += `<div class="bg-white dark:bg-zinc-800 p-5 rounded-lg text-center">Axtarışınıza uyğun nəticə tapılmadı.</div>`;
            }
            resultsHTML += `</div>`;
            contentArea.innerHTML = resultsHTML;
        }

        // --- HADİSƏ DİNLEYİCİLƏRİ ---
        document.addEventListener('DOMContentLoaded', () => {
            // Tema yoxlanışı
            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.documentElement.classList.remove('dark');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
            // Login yoxlanışı
            if (localStorage.getItem('rememberedUser') === 'true') {
                loginContainer.classList.add('hidden');
                appContainer.classList.remove('hidden');
                showHomePage();
            }
        });

        loginBtn.addEventListener('click', handleLogin);
        passwordInput.addEventListener('keyup', (e) => { if (e.key === 'Enter') handleLogin(); });
        usernameInput.addEventListener('keyup', (e) => { if (e.key === 'Enter') handleLogin(); });
        
        document.getElementById('logout-link').addEventListener('click', (e) => { e.preventDefault(); handleLogout(); });
        menuBtn.addEventListener('click', toggleMenu);
        overlay.addEventListener('click', toggleMenu);
        document.getElementById('logo-link').addEventListener('click', (e) => { e.preventDefault(); showHomePage(); });
        document.getElementById('home-link').addEventListener('click', (e) => { e.preventDefault(); showHomePage(); });
        document.getElementById('exam-link').addEventListener('click', (e) => { e.preventDefault(); showExamListPage(); });
        document.getElementById('labs-link').addEventListener('click', (e) => { e.preventDefault(); showArticleListPage('labs'); });
        
        document.getElementById('course-materials-link').addEventListener('click', (e) => {
            e.preventDefault();
            if (localStorage.getItem('rememberedCourseUser') === 'true') {
                showCourseLinktreePage();
            } else {
                showCourseLoginPage();
            }
        });

        closeCourseLoginBtn.addEventListener('click', hideCourseLoginPage);
        backFromCourseLoginBtn.addEventListener('click', hideCourseLoginPage);
        courseLoginBtn.addEventListener('click', handleCourseLogin);
        coursePasswordInput.addEventListener('keyup', (e) => { if (e.key === 'Enter') handleCourseLogin(); });
        courseUsernameInput.addEventListener('keyup', (e) => { if (e.key === 'Enter') handleCourseLogin(); });

        searchInput.addEventListener('input', handleSearch);
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            if (document.documentElement.classList.contains('dark')) {
                localStorage.setItem('theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                localStorage.setItem('theme', 'light');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });

        allLinks.forEach(link => {
            const categoryKey = link.id.replace('-link', '');
            if (allContent[categoryKey] && !['exam', 'labs', 'course-materials'].includes(categoryKey)) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showArticleListPage(categoryKey);
                });
            }
        });

        contentArea.addEventListener('click', (e) => {
            const articleItem = e.target.closest('[data-article-id]');
            const backButton = e.target.closest('#back-to-list-btn');
            const checkExamButton = e.target.closest('#check-exam-btn');
            const testItem = e.target.closest('[data-test-id]');
            const backToExamListButton = e.target.closest('#back-to-exam-list-btn');
            const courseHeader = e.target.closest('.course-header');
            const chapterLink = e.target.closest('.chapter-link');
            const copyBtn = e.target.closest('.copy-code-btn');
            const resetProgressBtn = e.target.closest('#reset-progress-btn');

            if (articleItem) {
                showSingleArticlePage(articleItem.dataset.category, articleItem.dataset.articleId);
            }
            if (backButton) {
                showArticleListPage(backButton.dataset.category);
            }
            if (checkExamButton) {
                checkExamAnswers(checkExamButton.dataset.testId);
            }
            if (testItem && !checkExamButton) {
                showSingleExamPage(testItem.dataset.testId);
            }
            if (backToExamListButton) {
                showExamListPage();
            }
            if (courseHeader) {
                const chapterList = courseHeader.nextElementSibling;
                courseHeader.classList.toggle('active');
                if (chapterList.style.maxHeight) {
                    chapterList.style.maxHeight = null;
                } else {
                    chapterList.style.maxHeight = chapterList.scrollHeight + "px";
                }
            }
            if (chapterLink && chapterLink.href.endsWith('#') === false) {
                const chapterId = chapterLink.dataset.chapterId;
                saveCourseProgress(chapterId);
                if(!chapterLink.querySelector('.fa-check-circle')) {
                    chapterLink.insertAdjacentHTML('afterbegin', '<i class="fas fa-check-circle mr-2"></i>');
                }
                chapterLink.classList.add('visited');
            }
            if(copyBtn) {
                const pre = copyBtn.parentElement;
                const code = pre.querySelector('code').innerText;
                const textArea = document.createElement('textarea');
                textArea.value = code;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                copyBtn.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => { copyBtn.innerHTML = '<i class="fas fa-copy"></i>'; }, 2000);
            }
            if(resetProgressBtn) {
                localStorage.removeItem('courseProgress');
                showCourseLinktreePage();
            }
        });

    </script>
</body>
</html>

